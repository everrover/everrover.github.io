<!DOCTYPE html><html><head><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta charSet="utf-8"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="icon" href="/images/logo.svg"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Web site created using create-react-app"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Permanent+Marker&amp;display=swap" data-optimized-fonts="true"/><link href="/fontawesome/css/all.css" rel="stylesheet"/><title>Everrover.com | Home</title><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="true"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&amp;display=swap" data-optimized-fonts="true"/><meta name="next-head-count" content="12"/><link rel="preload" href="/_next/static/css/62309ef28afe88479287.css" as="style"/><link rel="stylesheet" href="/_next/static/css/62309ef28afe88479287.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-e7a279300235e161e32a.js"></script><script src="/_next/static/chunks/webpack-377d9957422d331503bc.js" defer=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" defer=""></script><script src="/_next/static/chunks/main-2d8580ee726679405c72.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b4464f3517e2c589e072.js" defer=""></script><script src="/_next/static/chunks/pages/article/%5Bslug%5D-4f4971847f5f217791be.js" defer=""></script><script src="/_next/static/7kGgXhIANQ8jwW_z2Y5Tn/_buildManifest.js" defer=""></script><script src="/_next/static/7kGgXhIANQ8jwW_z2Y5Tn/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap">@font-face{font-family:'Permanent Marker';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/permanentmarker/v10/Fh4uPib9Iyv2ucM6pGQMWimMp004Hak.woff) format('woff')}@font-face{font-family:'Permanent Marker';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/permanentmarker/v10/Fh4uPib9Iyv2ucM6pGQMWimMp004La2Cf5b6jlg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style><style data-href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap">@font-face{font-family:'Fira Code';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_GNsFVQ.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sFVQ.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_A9sFVQ.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_ONrFVQ.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_NprFVQ.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0NSDqFGedCMX.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh2dSDqFGedCMX.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0dSDqFGedCMX.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3tSDqFGedCMX.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh09SDqFGedCMX.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3dSDqFGedA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0NSDqFGedCMX.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh2dSDqFGedCMX.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0dSDqFGedCMX.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3tSDqFGedCMX.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh09SDqFGedCMX.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3dSDqFGedA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Code';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0NSDqFGedCMX.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh2dSDqFGedCMX.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0dSDqFGedCMX.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3tSDqFGedCMX.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh09SDqFGedCMX.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3dSDqFGedA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Code';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0NSDqFGedCMX.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh2dSDqFGedCMX.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0dSDqFGedCMX.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3tSDqFGedCMX.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh09SDqFGedCMX.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3dSDqFGedA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Code';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0NSDqFGedCMX.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh2dSDqFGedCMX.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh0dSDqFGedCMX.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3tSDqFGedCMX.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh09SDqFGedCMX.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v10/uU9NCBsR6Z2vfE9aq3bh3dSDqFGedA.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><div class="main-body flex flex-col justify-between"><div class="mb-4 header border-bo"><div class="banner top-0"><div style="display:block;overflow:hidden;position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;margin:0"><noscript><img alt="Banner" srcSet="/_next/image?url=%2Fimages%2Fbanner.png&amp;w=640&amp;q=40 640w, /_next/image?url=%2Fimages%2Fbanner.png&amp;w=750&amp;q=40 750w, /_next/image?url=%2Fimages%2Fbanner.png&amp;w=828&amp;q=40 828w, /_next/image?url=%2Fimages%2Fbanner.png&amp;w=1080&amp;q=40 1080w, /_next/image?url=%2Fimages%2Fbanner.png&amp;w=1200&amp;q=40 1200w, /_next/image?url=%2Fimages%2Fbanner.png&amp;w=1920&amp;q=40 1920w, /_next/image?url=%2Fimages%2Fbanner.png&amp;w=2048&amp;q=40 2048w, /_next/image?url=%2Fimages%2Fbanner.png&amp;w=3840&amp;q=40 3840w" src="/images/banner.png" decoding="async" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;object-position:left" class="banner_img"/></noscript><img alt="Banner" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" class="banner_img" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;object-fit:cover;object-position:left"/></div></div><div class="banner-overlay"><div class="mx-10 my-4 flex flex-col flex-wrap items-center"><div class="flex py-2"><div class="h-20 w-20 m-auto text-center mr-2"><img src="/images/logo.svg" alt="logo" title="Everrover" layout="responsive" loading="eager"/></div><div class="flex items-center"><div class=" logo text-5xl text-green-400">Ever</div><div class=" logo text-5xl text-blue-400">Rover</div></div></div><div class="my-2 text-center text-2xl text-green-500 font-normal">Exploring web-development, technology and our lushful earth🌳.</div></div></div></div><div class="page-content"><div class="w-full border bg-black bg-opacity-75 border-green-400 border-opacity-50 px-8 py-4"><div><div class="control md:px-8 md:py-4 px-2 py-2"><article class="article-elem"><h1>Trapping rainwater</h1>
<h3>We shall do more of it in real life as well.</h3>
<p>Well, this question is a real easy one. On leetcode it&#x27;s <a href="https://leetcode.com/problems/trapping-rain-water/description">numbered at 42</a>.</p>
<p>Despite of knowing the solution by heart I messed up showcasing my solution in my Amazon interview. It is similar to <a href="https://leetcode.com/problems/container-with-most-water/description/">container with most water problem</a> whom I mixed it up with😐. Or was it vice versa? See, even at the moment of writing this I am even confused.</p>
<p>The lesson was simple,</p>
<blockquote>
<p>Don&#x27;t jump to most optimal solutions in one go, especially during interviews when excitement is running high.</p>
</blockquote>
<p>The solution is to calculate the maximum height amongst all elevations on both the sides for each elevation in the array. Since these maximums will prevent water runoff therefore they&#x27;ll probably help in storing some water.</p>
<p>Then we can pick the minimum amongst both, left and right height&#x27;s and subtract the height of current elevation from it to determine the amount of rainwater stored for elevation at that index.</p>
<p><img src="https://firebasestorage.googleapis.com/v0/b/zealot97-c70d5.appspot.com/o/rainwatertrap.png?alt=media&amp;token=ff15926f-1eef-4958-9d01-ecdbac7b1a15" alt="rain-water-trap"/></p>
<p>The brute way to do this is to iterate over the array once and for each element calculate the maximum height on both sides. This&#x27;ll run in <code>O(n^2)</code>. It&#x27;s trivial and can easily be visualised. So I won&#x27;t bother writing the code for this solution.</p>
<p>Of course, we can use the <em>dynamic programming</em> to store the recurring calculations of maximums for both left and right using a single pass from left to right and then from right to left. And then simply use it to calculate the result. In this case the time complexity is gonna be <code>O(n)</code> and memory complexity, <code>O(n)</code>.</p>
<p>Here&#x27;s my code,</p>
<pre><pre style="color:#a9b7c6;font-family:&#x27;Fira Code&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0 0.5rem;margin:0;overflow:auto;background:rgba(17, 24, 39 , 1);border-radius:0"><code class="language-java" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">1</span><span class="token" style="color:#cc7832">class</span><span> </span><span class="token class-name">Solution</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">2</span><span>    </span><span class="token" style="color:#cc7832">public</span><span> </span><span class="token" style="color:#cc7832">int</span><span> </span><span class="token" style="color:#ffc66d">trap</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">int</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span> height</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">3</span><span>        </span><span class="token" style="color:#cc7832">if</span><span class="token" style="color:#a9b7c6">(</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length </span><span class="token" style="color:#a9b7c6">&lt;</span><span class="token" style="color:#6897bb">3</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">4</span><span>        </span><span class="token" style="color:#cc7832">int</span><span> wCollected </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> left</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#cc7832">new</span><span> </span><span class="token" style="color:#cc7832">int</span><span class="token" style="color:#a9b7c6">[</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">,</span><span> right</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#cc7832">new</span><span> </span><span class="token" style="color:#cc7832">int</span><span class="token" style="color:#a9b7c6">[</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">5</span><span>        left</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> height</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">6</span><span>        </span><span class="token" style="color:#cc7832">for</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">int</span><span> i</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">;</span><span> i</span><span class="token" style="color:#a9b7c6">&lt;</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">;</span><span> i</span><span class="token" style="color:#a9b7c6">++</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">7</span><span>            left</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span>height</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">,</span><span> left</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">8</span><span>        </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">9</span><span>        right</span><span class="token" style="color:#a9b7c6">[</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> height</span><span class="token" style="color:#a9b7c6">[</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">10</span><span>        </span><span class="token" style="color:#cc7832">for</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">int</span><span> i</span><span class="token" style="color:#a9b7c6">=</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">2</span><span class="token" style="color:#a9b7c6">;</span><span> i</span><span class="token" style="color:#a9b7c6">&gt;=</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span> i</span><span class="token" style="color:#a9b7c6">--</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">11</span><span>            right</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">]</span><span> </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span>height</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">,</span><span> right</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">+</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">12</span><span>        </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">13</span><span>        </span><span class="token" style="color:#cc7832">for</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">int</span><span> i</span><span class="token" style="color:#a9b7c6">=</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">;</span><span> i</span><span class="token" style="color:#a9b7c6">&lt;</span><span>height</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">;</span><span> i</span><span class="token" style="color:#a9b7c6">++</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">14</span><span>            wCollected </span><span class="token" style="color:#a9b7c6">+=</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">min</span><span class="token" style="color:#a9b7c6">(</span><span>left</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">,</span><span> right</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">-</span><span> height</span><span class="token" style="color:#a9b7c6">[</span><span>i</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">15</span><span>        </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">16</span><span>        </span><span class="token" style="color:#cc7832">return</span><span> wCollected</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">17</span><span>    </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">18</span><span></span><span class="token" style="color:#a9b7c6">}</span></code></pre></pre>
<p>However, if we carefully observe the left and right height arrays we&#x27;ll see that they follow a strictly increasing and decreasing order respectively. That&#x27;s the trick for better space complexity. Hope it ticked you....</p>
<p>Let&#x27;s utilize it. For that we use <em>two pointer method</em>.</p>
<p>We&#x27;ll use these pointers for indexing(call it <code>left</code> and <code>right</code>) as well as one more pair (call it <code>leftMax</code> and <code>rightMax</code>) to store the maximum height.</p>
<p>If the elevation at <code>left</code> is smaller than <code>right</code>, we calculate water collected in it based on max values as we did above and increment <code>left</code> by 1. Otherwise, we do the same for elevation on the <code>right</code> and decrement <code>right</code> by 1. If this difference is negative we don&#x27;t add it to solution.</p>
<p>As we can see it works with memory complexity of <code>O(1)</code> and time complexity of <code>O(n)</code>.</p>
<p>Here&#x27;s my implementation of it,</p>
<pre><pre style="color:#a9b7c6;font-family:&#x27;Fira Code&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:0 0.5rem;margin:0;overflow:auto;background:rgba(17, 24, 39 , 1);border-radius:0"><code class="language-java" style="color:#a9b7c6;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">1</span><span class="token" style="color:#cc7832">class</span><span> </span><span class="token class-name">Solution</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">2</span><span>    </span><span class="token" style="color:#cc7832">public</span><span> </span><span class="token" style="color:#cc7832">int</span><span> </span><span class="token" style="color:#ffc66d">trap</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#cc7832">int</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">]</span><span> hts</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">3</span><span>        </span><span class="token" style="color:#cc7832">if</span><span class="token" style="color:#a9b7c6">(</span><span>hts</span><span class="token" style="color:#a9b7c6">.</span><span>length </span><span class="token" style="color:#a9b7c6">&lt;</span><span> </span><span class="token" style="color:#6897bb">3</span><span class="token" style="color:#a9b7c6">)</span><span> </span><span class="token" style="color:#cc7832">return</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">4</span><span>        </span><span class="token" style="color:#cc7832">int</span><span> l</span><span class="token" style="color:#a9b7c6">,</span><span> r</span><span class="token" style="color:#a9b7c6">,</span><span> maxL</span><span class="token" style="color:#a9b7c6">,</span><span> maxR</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">5</span><span>        l </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">6</span><span>        r </span><span class="token" style="color:#a9b7c6">=</span><span> hts</span><span class="token" style="color:#a9b7c6">.</span><span>length</span><span class="token" style="color:#a9b7c6">-</span><span class="token" style="color:#6897bb">1</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">7</span><span>        maxL </span><span class="token" style="color:#a9b7c6">=</span><span> hts</span><span class="token" style="color:#a9b7c6">[</span><span>l</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">;</span><span> maxR </span><span class="token" style="color:#a9b7c6">=</span><span> hts</span><span class="token" style="color:#a9b7c6">[</span><span>r</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">8</span><span>        </span><span class="token" style="color:#cc7832">int</span><span> water </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">9</span><span>        </span><span class="token" style="color:#cc7832">while</span><span class="token" style="color:#a9b7c6">(</span><span>l</span><span class="token" style="color:#a9b7c6">&lt;</span><span>r</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">10</span><span>            </span><span class="token" style="color:#cc7832">if</span><span class="token" style="color:#a9b7c6">(</span><span>maxL</span><span class="token" style="color:#a9b7c6">&lt;</span><span>maxR</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">11</span><span>                water </span><span class="token" style="color:#a9b7c6">+=</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">min</span><span class="token" style="color:#a9b7c6">(</span><span>maxL</span><span class="token" style="color:#a9b7c6">,</span><span> maxR</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">-</span><span>hts</span><span class="token" style="color:#a9b7c6">[</span><span>l</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">12</span><span>                maxL </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span>maxL</span><span class="token" style="color:#a9b7c6">,</span><span> hts</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">++</span><span>l</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">13</span><span>            </span><span class="token" style="color:#a9b7c6">}</span><span class="token" style="color:#cc7832">else</span><span class="token" style="color:#a9b7c6">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">14</span><span>                water </span><span class="token" style="color:#a9b7c6">+=</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span class="token" style="color:#6897bb">0</span><span class="token" style="color:#a9b7c6">,</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">min</span><span class="token" style="color:#a9b7c6">(</span><span>maxL</span><span class="token" style="color:#a9b7c6">,</span><span> maxR</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">-</span><span>hts</span><span class="token" style="color:#a9b7c6">[</span><span>r</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">15</span><span>                maxR </span><span class="token" style="color:#a9b7c6">=</span><span> </span><span class="token class-name">Integer</span><span class="token" style="color:#a9b7c6">.</span><span class="token" style="color:#ffc66d">max</span><span class="token" style="color:#a9b7c6">(</span><span>maxR</span><span class="token" style="color:#a9b7c6">,</span><span> hts</span><span class="token" style="color:#a9b7c6">[</span><span class="token" style="color:#a9b7c6">--</span><span>r</span><span class="token" style="color:#a9b7c6">]</span><span class="token" style="color:#a9b7c6">)</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">16</span><span>            </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">17</span><span>        </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">18</span><span>        </span><span class="token" style="color:#cc7832">return</span><span> water</span><span class="token" style="color:#a9b7c6">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">19</span><span>    </span><span class="token" style="color:#a9b7c6">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:0.25rem;text-align:right;user-select:none;margin-right:0.5rem;border-right:rgba(243, 244, 246, 0.5) 1px solid;width:fit-content;color:#808080">20</span><span></span><span class="token" style="color:#a9b7c6">}</span></code></pre></pre>
<p>Hope it helps, 👋.</p></article></div></div></div></div><footer class="Footer_footer_block__3Ua-W"><div class="Footer_footer_icons_section__ssToD"><div class="icon_link mx-3 my-2 link" href="https://www.instagram.com/everrover/"><i class="text-4xl hover:text-green-400 fab fa-instagram"></i></div><div class="icon_link mx-3 my-2 link" href="https://github.com/everrover"><i class="text-4xl hover:text-green-400 fab fa-github"></i></div><div class="icon_link mx-3 my-2 link" href="https://in.linkedin.com/in/abhishek-deyol-44a732171"><i class="text-4xl hover:text-green-400 fab fa-linkedin"></i></div><div class="icon_link mx-3 my-2 link" href="https://twitter.com/everrover"><i class="text-4xl hover:text-green-400 fab fa-twitter"></i></div></div><div class="Footer_footer_message_section__2NgtI"><div class="Footer_footer_message__2oWRm">Created using <img src="/images/nextjs_logo.png" class="Footer_footer_nextjs_logo__28deP" alt="Next Logo" title="Next.js"/>, <img src="/images/node_logo.png" class="Footer_footer_nodejs_logo__293dz" alt="Next Logo" title="Next.js"/> and <img src="/images/react_logo.png" class="Footer_footer_reactjs_logo__3MrU7" alt="Next Logo" title="Next.js"/> by yours truly,  <div class="inline-block"><div class="inline logo text-xl text-green-400">Ever</div><div class="inline logo text-xl text-blue-400">Rover</div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"isPublished":true,"title":"Trapping rainwater","category":{"title":"DSA","id":"dsa","slug":"dsa"},"subtitle":"We shall do more of it in real life as well","tags":[{"title":"Dynamic programming","id":"dynamic-programming","slug":"dynamic-programming"},{"slug":"two-pointer","id":"two-pointer","title":"Two-pointer method"}],"banner":"https://firebasestorage.googleapis.com/v0/b/zealot97-c70d5.appspot.com/o/rainwatertrap.png?alt=media\u0026token=ff15926f-1eef-4958-9d01-ecdbac7b1a15","createdAt":1626539359239,"thread":null,"id":"trapping-rainwater","slug":"trapping-rainwater","publishedAt":1626539408627,"updatedAt":1626539408627,"contentSource":"trapping-rainwater","content":"# Trapping rainwater\n\n### We shall do more of it in real life as well.\n\nWell, this question is a real easy one. On leetcode it's [numbered at 42](https://leetcode.com/problems/trapping-rain-water/description).\n\nDespite of knowing the solution by heart I messed up showcasing my solution in my Amazon interview. It is similar to [container with most water problem](https://leetcode.com/problems/container-with-most-water/description/) whom I mixed it up with😐. Or was it vice versa? See, even at the moment of writing this I am even confused.\n\nThe lesson was simple, \n\u003e Don't jump to most optimal solutions in one go, especially during interviews when excitement is running high.\n\nThe solution is to calculate the maximum height amongst all elevations on both the sides for each elevation in the array. Since these maximums will prevent water runoff therefore they'll probably help in storing some water.\n\nThen we can pick the minimum amongst both, left and right height's and subtract the height of current elevation from it to determine the amount of rainwater stored for elevation at that index.\n\n![rain-water-trap](https://firebasestorage.googleapis.com/v0/b/zealot97-c70d5.appspot.com/o/rainwatertrap.png?alt=media\u0026token=ff15926f-1eef-4958-9d01-ecdbac7b1a15)\n\nThe brute way to do this is to iterate over the array once and for each element calculate the maximum height on both sides. This'll run in `O(n^2)`. It's trivial and can easily be visualised. So I won't bother writing the code for this solution.\n\nOf course, we can use the _dynamic programming_ to store the recurring calculations of maximums for both left and right using a single pass from left to right and then from right to left. And then simply use it to calculate the result. In this case the time complexity is gonna be `O(n)` and memory complexity, `O(n)`.\n\nHere's my code,\n```java\nclass Solution {\n    public int trap(int[] height) {\n        if(height.length \u003c3) return 0;\n        int wCollected = 0, left[] = new int[height.length], right[] = new int[height.length];\n        left[0] = height[0];\n        for(int i=1; i\u003cheight.length; i++){\n            left[i] = Integer.max(height[i], left[i-1]);\n        }\n        right[height.length-1] = height[height.length-1];\n        for(int i=height.length-2; i\u003e=0; i--){\n            right[i] = Integer.max(height[i], right[i+1]);\n        }\n        for(int i=1; i\u003cheight.length; i++){\n            wCollected += Integer.min(left[i], right[i]) - height[i];\n        }\n        return wCollected;\n    }\n}\n```\n\nHowever, if we carefully observe the left and right height arrays we'll see that they follow a strictly increasing and decreasing order respectively. That's the trick for better space complexity. Hope it ticked you....\n\nLet's utilize it. For that we use _two pointer method_. \n\nWe'll use these pointers for indexing(call it `left` and `right`) as well as one more pair (call it `leftMax` and `rightMax`) to store the maximum height. \n\nIf the elevation at `left` is smaller than `right`, we calculate water collected in it based on max values as we did above and increment `left` by 1. Otherwise, we do the same for elevation on the `right` and decrement `right` by 1. If this difference is negative we don't add it to solution.\n\nAs we can see it works with memory complexity of `O(1)` and time complexity of `O(n)`.\n\nHere's my implementation of it,\n```java\nclass Solution {\n    public int trap(int[] hts) {\n        if(hts.length \u003c 3) return 0;\n        int l, r, maxL, maxR;\n        l = 0;\n        r = hts.length-1;\n        maxL = hts[l]; maxR = hts[r];\n        int water = 0;\n        while(l\u003cr){\n            if(maxL\u003cmaxR){\n                water += Integer.max(0, Integer.min(maxL, maxR)-hts[l]);\n                maxL = Integer.max(maxL, hts[++l]);\n            }else{\n                water += Integer.max(0, Integer.min(maxL, maxR)-hts[r]);\n                maxR = Integer.max(maxR, hts[--r]);\n            }\n        }\n        return water;\n    }\n}\n```\nHope it helps, 👋.\n"},"__N_SSG":true},"page":"/article/[slug]","query":{"slug":"trapping-rainwater"},"buildId":"7kGgXhIANQ8jwW_z2Y5Tn","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>